default:
    @just --list

rag_port := env_var_or_default("RAG_SERVICE_PORT", "8000")

sync:
    uv sync

sync-prod:
    uv sync --no-dev

lock:
    uv lock

run host="127.0.0.1" port=rag_port:
    uv run python main.py --host {{host}} --port {{port}} --initialize

format:
    uv run black .
    uv run darker .

format-check:
    uv run black --check .
    uv run darker --check .

lint:
    uv run ruff check .

lint-fix:
    uv run ruff check --fix .

typecheck:
    uv run basedpyright

check:
    just lint
    just format-check
    just typecheck
